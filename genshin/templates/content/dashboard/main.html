{% extends 'base/base.html' %}

{% block content %}

<style>
    .container {
        /* margin: 1%; */
        width: 100%;
        color: white;
        display: inline-grid;
        grid-template-columns: 50% 50%;
    }

    .sub_container {
        margin: 1%
    }
    .sub_container_header {
        margin-bottom: 1%
    }

    .sub_container_body_item {
        margin-right: 1%;
    }

    .divider {
        height: inherit;
        border-left: 2px solid white;
    }

    .tab {
        overflow: hidden;
        border: none;
        background-color: #343A40;
    }

    .tab button {
        background-color: white;
        float: left;
    }
</style>

<div class="container">
    <div class="sub_container">

        <div class=sub_container_header>
            <form id="select_character" method="GET" action="{% url 'builder' %}">
                <select id="character_id" name="character" onchange="weaponSelection()">
                    <option value="" selected disabled>-- Select a character --</option>
                    {% for c in characters %}
                    <option value={{ c.id }} {% ifequal c.id selected_char.id %}  selected  {% endifequal %}>{{ c.name }}</option>
                    {% endfor %}
                </select>
            </form>
        </div>
        <div class="sub_container_body">
            {% include 'content/dashboard/characterStats.html' %}
        </div>
    </div>
    <!-- <div class="divider"></div> -->
    <div class="sub_container">

        <div class=sub_container_header>
            <div class="tab">
                <button>Weapon</button>
                <button>Artifacts</button>
            </div>
        </div>

        <div class="sub_container_body">
            {% include 'content/dashboard/weaponStats.html' %}
        </div>
    </div>
</div>

<script>
    function weaponSelection() {
        var selection = document.getElementById("character_id").value
        console.debug(selection)
        if (selection != "") {
            document.getElementById("select_character").submit();
        }

    }
</script>

{% endblock %}